!function(e){const t=["color:green;","color:blue;","color:black;"],s=e=>{const s=new Date,r=(""+s.getHours()).padStart(2,"0"),n=(""+s.getMinutes()).padStart(2,"0"),o=(""+s.getSeconds()).padStart(2,"0");console.log(`%c[${r}:${n}:${o}] %cRM%c::${e}`,...t)},r=(e,t)=>{if(!Array.isArray(e))return!1;const s=e.find(e=>e&&e.url===t);return void 0!==s&&s},n=(e,t,s="new")=>!!t&&(e.push({url:t,state:s}),e[e.length-1]),o=(e,t,s)=>{document.querySelectorAll(e).forEach(e=>{const o=e.getAttribute(t);if(!o)return;const i=r(s,o);i&&"rejected"!==i.state||n(s,o,"fulfilled")})};function i(e,t,r=0){if(!Array.isArray(e)||0===e.length)return Promise.resolve();if(r>20)return s("Recursive load limit reached!"),Promise.resolve();const n=e[0];return n?new Promise((s,o)=>{t.call(this,n).then(()=>i.call(this,e.slice(1),t,r+1)).then(()=>s()).catch(e=>o(e))}):i.call(this,e.slice(1),t)}class l{loadScript(e){if(Array.isArray(e))return i.call(this,e,this.loadScript);const t=r(this.scripts,e),o=!1===t?n(this.scripts,e):t;return"fulfilled"===o.state?(s(`Script ${e} already had been loaded.`),Promise.resolve(o)):("pending"===o.state||(o.promise=new Promise((t,r)=>{o.state="pending",(e=>{const t=document.createElement("script");return new Promise((s,r)=>{t.onerror=()=>{t.remove(),r(new Error("Failed to load script: "+e))},t.onload=()=>s(),document.head.appendChild(t),t.src=e})})(e).then(()=>{o.state="fulfilled",delete o.promise,s(`Script ${e} has been loaded.`),t(o)}).catch(e=>{o.state="rejected",delete o.promise,s(e.message||e),r(e)})})),o.promise)}loadCss(e){if(Array.isArray(e))return i.call(this,e,this.loadCss);const t=r(this.css,e),o=!1===t?n(this.css,e):t;return"fulfilled"===o.state?(s(`CSS ${e} already had been loaded.`),Promise.resolve(o)):("pending"===o.state||(o.promise=new Promise((t,r)=>{o.state="pending",(e=>{const t=document.createElement("link");return new Promise((s,r)=>{t.onerror=()=>{t.remove(),r(new Error("Failed to load CSS: "+e))},t.onload=()=>s(),t.rel="stylesheet",t.type="text/css",document.head.appendChild(t),t.href=e})})(e).then(()=>{o.state="fulfilled",delete o.promise,s(`CSS ${e} has been loaded.`),t(o)}).catch(e=>{o.state="rejected",delete o.promise,s(e.message||e),r(e)})})),o.promise)}loadPlugin(e){return new Promise((t,s)=>{this.loadCss(e.css).then(()=>this.loadScript(e.js)).then(()=>t()).catch(e=>s(e))})}constructor(){this.css=[],this.scripts=[]}}e.RM&&e.RM instanceof l||(e.RM=new l,document&&document.addEventListener("DOMContentLoaded",()=>{s("Initializing Resource Manager..."),o("script","src",e.RM.scripts),e.RM.scripts.length&&s("Found JS scripts: "+e.RM.scripts.length),o('link[type="text/css"]',"href",e.RM.css),0!==e.RM.css.length&&s("Found CSS: "+e.RM.css.length)}))}(window||global);